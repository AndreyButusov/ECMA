<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Задание 2</title>
</head>
<body>
    
    <script>
        // "Отправка данных на сервер"
        // Реализуйте функцию для отправки данных о пользователе на сервер:
        // Функция saveUserData
        // ● Описание:
        // ○ Функция принимает объект с данными о пользователе и использует
        // fetch для отправки данных на удаленный сервер.
        // ○ Функция возвращает промис, который разрешается, если данные
        // успешно отправлены.
        // ○ Если запрос неуспешен, промис должен быть отклонен с
        // соответствующим сообщением об ошибке.
        // ● Подсказка:
        // ○ Используйте метод POST и задайте заголовок Content-Type как
        // application/json.
        // ○ Объект с данными о пользователе необходимо сериализовать в
        // JSON-строку с помощью JSON.stringify().
        // Пример использования функции
        // const user = {
        // name: 'John Smith',
        // age: 30,
        // email: 'john@example.com'
        // };
        // saveUserData(user)
        // .then(() => {
        // console.log('User data saved successfully');
        // })
        // .catch(error => {
        // console.error(error);
        // });

        const user = {
        name: 'John Smith',
        age: 30,
        email: 'john@example.com'
        };

        async function saveUserData(obj) {
            try {
            let xhr = new XMLHttpRequest();
            xhr.open("POST", `https://jsonplaceholder.typicode.com/users`);
            xhr.setRequestHeader('Content-type', 'application/json; charset=utf-8');
            xhr.send(JSON.stringify(obj));
            xhr.onload = () => {
                console.log(xhr.response);
                console.log('User data saved successfully');
            }
            }
            catch(err) {
                console.error('Много ошибок, решай вопросы');
            };
        }

        saveUserData(user);
    </script>
</body>
</html>